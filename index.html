<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Hack N√£o m√†u s·∫Øc</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1f1f2e, #3b3b5a);
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .game-box {
            background: rgba(255,255,255,0.08);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            width: 460px;
        }

        #displayText {
            font-size: 70px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        button {
            padding: 10px 18px;
            margin: 5px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            font-weight: bold;
        }

        #result {
            font-size: 22px;
            min-height: 28px;
            margin-bottom: 10px;
        }

        #timeBarContainer {
            width: 100%;
            height: 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            overflow: hidden;
            margin-top: 10px;
        }

        #timeBar {
            width: 100%;
            height: 100%;
            background: #4cff4c;
        }
    </style>
</head>
<body>
<div class="game-box">
    <h1>Game Hack N√£o ch·ªçn M√†u</h1>

    <button id="startBtn">B·∫ÆT ƒê·∫¶U</button>
    <button id="stopBtn">D·ª™NG L·∫†I</button>

    <div id="displayText"></div>
    <div id="buttons"></div>
    <div id="result"></div>

    <div id="timeBarContainer">
        <div id="timeBar"></div>
    </div>
</div>

<script>
    const colors = [
        {name: "ƒê·ªé", color:"red"},
        {name: "XANH L√Å", color:"green"},
        {name: "V√ÄNG", color:"gold"},
        {name: "XANH D∆Ø∆†NG", color:"dodgerblue"},
        {name: "T√çM", color:"purple"},
        {name: "H·ªíNG", color:"deeppink"},
        {name: "CAM", color:"orange"},
        {name: "N√ÇU", color:"sienna"},
        {name: "X√ÅM", color:"gray"},
        {name: "XANH NG·ªåC", color:"turquoise"},
        {name: "XANH BI·ªÇN", color:"skyblue"},
        {name: "V√ÄNG NH·∫†T", color:"khaki"}
    ];

    const punishments = [
        "Ng·ªìi xu·ªëng ‚Äì ƒë·ª©ng l√™n 3 l·∫ßn",
        "Nh·∫£y ƒëi·ªáu silly 10 l·∫ßn üï∫",
        "C∆∞·ªùi ƒëi√™n lo·∫°n 5 gi√¢y üòú",
        "Gi∆° tay high-five b·∫£n th√¢n ‚úã",
        "H√∫ 1 ti·∫øng th·∫≠t to üòÜ",
        "V·ªó tay 5 l·∫ßn üëè",
        "V∆∞∆°n vai 5 l·∫ßn ü§∏"
    ];

    const rewards = [
        "Xu·∫•t s·∫Øc! üòé",
        "Tuy·ªát v·ªùi! üß†‚ú®",
        "Ch√≠nh x√°c! üé®",
        "Tr√≠ n√£o ƒëang ƒë·ªânh cao üöÄ",
        "B·∫°n th√¥ng minh h∆°n m√¨nh t∆∞·ªüng üòÜ",
        "B·∫°n l√† b·∫≠c th·∫ßy ch·ªçn m√†u üëë"
    ];

    const display = document.getElementById("displayText");
    const buttonsDiv = document.getElementById("buttons");
    const result = document.getElementById("result");
    const timeBar = document.getElementById("timeBar");
    const startBtn = document.getElementById("startBtn");
    const stopBtn = document.getElementById("stopBtn");

    let colorIndex = 0;
    let timeInterval;
    let timeLeft = 2;
    let gameStarted = false;
    let paused = false;

    function startTimer() {
        timeLeft = 2;
        timeBar.style.width = "100%";
        if(timeInterval) clearInterval(timeInterval);
        timeInterval = setInterval(() => {
            if(paused) return; // t·∫°m d·ª´ng
            timeLeft -= 0.05;
            if(timeLeft <= 0){
                clearInterval(timeInterval);
                const punishment = punishments[Math.floor(Math.random()*punishments.length)];
                result.style.color = "orange";
                result.textContent = "‚è∞ H·∫øt gi·ªù! Ph·∫°t: " + punishment;
                setTimeout(newRound, 1500);
            }
            timeBar.style.width = (timeLeft/3*100) + "%";
        }, 50);
    }

    function newRound() {
        if(!gameStarted) return;
        clearInterval(timeInterval);
        startTimer();
        result.textContent = "";

        let textIndex = Math.floor(Math.random() * colors.length);

        if(Math.random() < 0.9){
            do {
                colorIndex = Math.floor(Math.random()*colors.length);
            } while(colorIndex === textIndex);
        } else {
            colorIndex = textIndex;
        }

        display.textContent = colors[textIndex].name;
        display.style.color = colors[colorIndex].color;

        buttonsDiv.innerHTML = "";
        colors.forEach((c,i)=>{
            const btn = document.createElement("button");
            btn.textContent = c.name;
            btn.onclick = ()=>{
                clearInterval(timeInterval);
                if(i === colorIndex){
                    const reward = rewards[Math.floor(Math.random()*rewards.length)];
                    result.style.color = "lightgreen";
                    result.textContent = "‚úî Ch√≠nh x√°c! " + reward;
                } else {
                    const punishment = punishments[Math.floor(Math.random()*punishments.length)];
                    result.style.color = "red";
                    result.textContent = "‚ùå Sai! Ph·∫°t: " + punishment;
                }
                setTimeout(newRound, 1500);
            };
            buttonsDiv.appendChild(btn);
        });
    }

    startBtn.onclick = ()=>{
        if(!gameStarted){
            // B·∫Øt ƒë·∫ßu l·∫ßn ƒë·∫ßu
            gameStarted = true;
            paused = false;
            newRound();
        } else if(paused){
            paused = false;
            result.textContent = "‚ñ∂ Game ti·∫øp t·ª•c!";
        }
    };

    stopBtn.onclick = ()=>{
        paused = true;
        result.style.color = "yellow";
        result.textContent = "‚è∏ Game t·∫°m d·ª´ng";
    };
</script>
</body>
</html>
